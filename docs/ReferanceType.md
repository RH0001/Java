# 참조 자료형

## 📌 TYPE (자료형)

1. Default Type (8ea)

   → boolean,    byte, short, int, long,    float, double, char

2. Referance Type (♾️ea)

   → Array, enum, class, interface

   

## 📌 배열

### **특징(2가지)**

1. 동일한 자료형만 묶어서 저장 가능
2. 생성 시 크기를 지정 (지정 후 변경 불가)



### **선언**

- 자료형[] 변수명;  // 자바에서는 이와 같은 선언 방식을 권고한다.

  ex) int[] a;

- 자료형 변수명[]; ex) double d[];

- 여기서 배열의 첫번째 특징인 동일한 자료형만 묶어서 저장할 수 있는 자료형이 나타난다.

```java
int[] a;     // int Type 만 저장 가능
double[] b;  // double Type 만 저장가능
String[] a;  // String Type 만 저장가능
```

참조 변수의 초기화

| 명령어          | class, final, ... | Stack        | Heap |
| --------------- | ----------------- | ------------ | ---- |
| int[ ] a;       |                   | a → [  ]     |      |
| int[] a = null; |                   | a → [ null ] |      |

자바의 메모리 구조

| class static final

| class,<br />static,<br />final,<br />method | stack | heap |
| ------------------------------------------- | ----- | ---- |
|                                             |       |      |

### **배열 객체 생성**

- 여러 개의 값을 저장 할 수 있는 공간.
- 배열의 값은 Heap 메모리에 생성된다.
- 선언 방법 int[] a; a = new int [3];

### **배열의 선언과 객체 생성**

1. 선언과 동시에 객체를 생성하는 방법.

   int[] a = new int[3];

2. 배열 선언 후 객체를 생성하는 방법

   int[] b; b = new int[10]

- 참조 변수는 주소값(참조값)을 가지고 있다.
- int 자료형 3개를 저장할 수 있는 공간을 힙 메모리에 넣어두고 어디에 넣었는지를 참조 변수 a에 저장하라.
- 여기서 배열의 두번 째 특징인 생성 시 크기를 지정하는 것이 나타난다.

```java
int[] a = new int[3];         // (o)
double[] b = new double[14];  // (o)
String[] s = new String[10];  // (o)
int[] a = new int[];          // (x) 오류가 발생하는 이유를 설명하시오.
```

### 배열의 생성 및 값 대입

1. 배열 객체 생성 후 값 대입

   - 선언 방법

   <aside> 💡 자료형[ ] 변수명 = new 자료형[배열의 길이]; 변수명[인덱스] = 값;

   </aside>

   - ex

   ```java
   int[] a = new int[3];
   a[0] = 1;
   a[1] = 2;
   a[2] = 3;
   ```

   - 메모리 구조

   | 명령어                 | class, final, ... | Stack       | Heap      |
   | ---------------------- | ----------------- | ----------- | --------- |
   | int[ ] a = new int[3]; |                   | a → [ 100 ] | 100 → [ 0 |
   | a[0] = 1;              |                   |             |           |

   a[1] = 2; a[2] = 3; |  | a → [100] | 100 → [ 1 | 2 | 3 ] |

2. 배열 객체 생성 및 값 대입

   <aside> 💡 자료형[] 변수명 = new 자료형[]{값1,..., 값};

   </aside>

   ```java
   int[] a = new int[]{3,4,5};
   ```

   | 명령어                       | class, final, ... | Stack       | Heap      |
   | ---------------------------- | ----------------- | ----------- | --------- |
   | int[ ] a = new int[]{3,4,5}; |                   | a → [ 100 ] | 100 → [ 3 |

3. 대입할 값 입력

   <aside> 💡 자료형[ ] 변수명 = {값1, ... , 값};

   </aside>

   ```java
   int[] a = {3,4,5};
   ```

   | 명령어             | class, final, ... | Stack       | Heap      |
   | ------------------ | ----------------- | ----------- | --------- |
   | int[] a = {3,4,5}; |                   | a → [ 100 ] | 100 → [ 3 |

**✔️ 방법 2 vs 방법3**

- 방법 2는 선언과 값을 분리할 수 있다.
- 방법 3은 선언과 값을 분리할 수 없다.

```java
// 방법 2.
int[] a = new int[]{3,4,5};
int[] a;
a = new int[]{3,4,5}; // (o)

// 방법 3.
int[] a = {3,4,5};
int[] a;
a = {3,4,5}; //(x)
```

### 메모리의 초기값

- stack

  - 초기값을 부여하지 않으먄 빈칸으로 존재한다.
  - 메모리에 빈칸으로 존재하기 때문에, 값을 읽을 경우 오류가 발생한다.

  ```java
  int a;
  System.out.println(a); //(x) 오류 발생
  ```

- heap

  - 빈칸으로 존재할 수 없으며, 초기값이 없을 경우 강제로 부여한다.
    - 기본 자료형
      - 숫자 (int, double, ...) : default → 0
      - boolean : default → false
    - 참조 자료형
      - default → null

### 참조 자료형으로서의 배열의 특징

- 기본 자료형(값), 참조 자료형(위치) 의 변수는 모두 stack 메모리에 저장된다.

<aside> 💡 TIP

- ' = ' 는 stack메모리의 값을 복사한다. 기본 자료형의 변수 복사: 값의 복사 기본 자료형의 변수 복사: 위치(번지)의 복사

</aside>

- 기본 자료형의 변수 복사

  | 명령어     | class, final, ... | Stack     | Heap |
  | ---------- | ----------------- | --------- | ---- |
  | int a = 3; |                   | a → [ 3 ] |      |
  | int b = a; |                   | a → [ 3 ] |      |
  | b → [ 3 ]  |                   |           |      |
  | b = 7;     |                   | a → [ 3 ] |      |
  | b → [ 7 ]  |                   |           |      |

  - 기본 자료형은 값이 복사가 되기 때문에 변수 b에서 값을 바꿔도 변수 a와는 무관하다.

- 참조 자료형의 변수 복사

  | 명령어              | class, final, ... | Stack       | Heap      |
  | ------------------- | ----------------- | ----------- | --------- |
  | int[ ] a = {3,4,5}; |                   | a → [ 100 ] | 100 → [ 3 |
  | int[ ] b = a;       |                   | a → [ 100 ] |           |
  | b → [ 100 ]         | 100 → [ 3         | 4           | 5 ]       |
  | b[0] = 7;           |                   | a → [ 100 ] |           |
  | b → [ 100 ]         | 100 → [ 7         | 4           | 5 ]       |

  - 참조 자료형은 값이 아닌 번지가 복사되기 때문에 변수 b의 0번째 인덱스의 값을 변경하면, 같은 번지를 참조하고 있는 변수 a의 0번째 인덱스의 값도 변경된다.

### 반복문을 이용한 데이터 읽기

- 배열의 길이 가져오기

  <aside> 💡 배열의 길이 = 배열참조변수명.length;

  </aside>

  ```java
  int[] a = new int[] {3,4,5,6,7};
  System.out.println(a.length); // 5
  ```

- 배열의 길이가 큰 데이터 읽기

  ```java
  int[] a = new int[100];
  a[0] =1; a[1] = 2; ... a[99]=100;
  
  // 1. for문 활용
  for (int i = 0; i < 100; i++) {
  	System.out.println(a[i]);
  }
  
  // 2. foreach문 활용
  for(int k : a) {
  	System.out.println(k);
  }
  
  // 3. API 활용 (Arrays.toString)
  System.out.println(Arrays.toString(a));
  ```